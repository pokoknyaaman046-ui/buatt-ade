<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Love Story üíù</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #ffd3a5 100%);
            --text-color: white;
            --card-bg: rgba(255, 255, 255, 0.12);
            --card-border: rgba(255, 255, 255, 0.25);
            --shadow: rgba(0, 0, 0, 0.3);
            --tab-active: linear-gradient(135deg, #f5576c, #f093fb);
            --tab-inactive: rgba(255, 255, 255, 0.1);
        }

        body.dark-mode {
            --primary-gradient: linear-gradient(135deg, #0f0c29 0%, #302b63 25%, #24243e 50%, #0f0c29 75%, #1a1a2e 100%);
            --text-color: #e0e0e0;
            --card-bg: rgba(255, 255, 255, 0.08);
            --card-border: rgba(255, 255, 255, 0.15);
            --shadow: rgba(0, 0, 0, 0.7);
            --tab-active: linear-gradient(135deg, #667eea, #764ba2);
            --tab-inactive: rgba(255, 255, 255, 0.05);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--primary-gradient);
            background-size: 400% 400%;
            animation: gradientFlow 20s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Particle System */
        .particles {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            font-size: 28px;
            opacity: 0.2;
            animation: float 15s linear infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg) translateX(0);
                opacity: 0;
            }
            10% { opacity: 0.3; }
            90% { opacity: 0.3; }
            100% {
                transform: translateY(-100vh) rotate(720deg) translateX(100px);
                opacity: 0;
            }
        }

        /* Top Bar */
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border-bottom: 1px solid var(--card-border);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 10px 40px var(--shadow);
        }

        .logo {
            font-family: 'Great Vibes', cursive;
            font-size: 2rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .top-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .control-btn {
            background: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.3rem;
        }

        .control-btn:hover {
            transform: scale(1.15) rotate(10deg);
            background: var(--tab-active);
            border-color: transparent;
        }

        .heart-counter {
            background: var(--tab-active);
            padding: 10px 25px;
            border-radius: 50px;
            color: white;
            font-weight: 700;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 5px 20px rgba(245, 87, 108, 0.4);
        }

        /* Main Container */
        .container {
            position: relative;
            z-index: 10;
            max-width: 1600px;
            margin: 0 auto;
            padding: 100px 30px 50px;
        }

        /* Header */
        .main-header {
            text-align: center;
            margin-bottom: 50px;
            animation: fadeInDown 1s ease-out;
        }

        .main-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 5.5rem;
            background: linear-gradient(135deg, #fff 0%, #ffd3a5 50%, #f5576c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            text-shadow: 0 0 80px rgba(255, 107, 157, 0.5);
            animation: textGlow 3s ease-in-out infinite alternate;
        }

        @keyframes textGlow {
            from { filter: drop-shadow(0 0 20px rgba(255, 107, 157, 0.3)); }
            to { filter: drop-shadow(0 0 40px rgba(255, 107, 157, 0.6)); }
        }

        .main-header .subtitle {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            color: var(--text-color);
            opacity: 0.95;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
            padding: 10px;
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border-radius: 25px;
            border: 1px solid var(--card-border);
            overflow-x: auto;
            box-shadow: 0 10px 40px var(--shadow);
            animation: fadeIn 1s ease-out 0.3s both;
        }

        .tab-btn {
            flex: 1;
            min-width: 140px;
            padding: 18px 25px;
            border: none;
            background: var(--tab-inactive);
            color: var(--text-color);
            font-weight: 600;
            font-size: 1rem;
            border-radius: 18px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--tab-active);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .tab-btn span {
            position: relative;
            z-index: 1;
        }

        .tab-btn.active {
            background: var(--tab-active);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4);
            color: white;
        }

        .tab-btn:hover:not(.active) {
            transform: translateY(-3px);
            background: var(--tab-active);
            opacity: 0.8;
        }

        .tab-icon {
            font-size: 1.3rem;
        }

        /* Tab Content */
        .tab-content {
            display: none;
            animation: fadeIn 0.6s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        /* Countdown Section */
        .countdown-hero {
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border-radius: 35px;
            padding: 60px;
            margin-bottom: 40px;
            border: 2px solid var(--card-border);
            box-shadow: 0 20px 80px var(--shadow);
            text-align: center;
        }

        .countdown-title {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            color: var(--text-color);
            margin-bottom: 15px;
        }

        .countdown-subtitle {
            font-family: 'Dancing Script', cursive;
            font-size: 1.6rem;
            color: var(--text-color);
            opacity: 0.9;
            margin-bottom: 40px;
        }

        .countdown-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 25px;
            max-width: 900px;
            margin: 0 auto;
        }

        .time-box {
            background: var(--tab-active);
            border-radius: 25px;
            padding: 35px 20px;
            box-shadow: 0 15px 40px rgba(245, 87, 108, 0.3);
            position: relative;
            overflow: hidden;
        }

        .time-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .time-number {
            font-size: 4rem;
            font-weight: 900;
            color: white;
            display: block;
            font-family: 'Playfair Display', serif;
            line-height: 1;
            margin-bottom: 10px;
        }

        .time-label {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.95);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 600;
        }

        /* Photo Gallery */
        .photo-gallery-section {
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border-radius: 35px;
            padding: 50px;
            margin-bottom: 40px;
            border: 2px solid var(--card-border);
            box-shadow: 0 20px 80px var(--shadow);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.8rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .action-btn {
            background: var(--tab-active);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 8px 25px rgba(245, 87, 108, 0.3);
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(245, 87, 108, 0.5);
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .photo-card {
            position: relative;
            aspect-ratio: 1;
            background: linear-gradient(135deg, #f5576c, #f093fb, #667eea);
            border-radius: 25px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 15px 45px var(--shadow);
        }

        .photo-card:hover {
            transform: translateY(-15px) rotate(3deg);
            box-shadow: 0 25px 60px var(--shadow);
        }

        .photo-inner {
            width: 100%;
            height: 100%;
            background: #1a1a1a;
            border-radius: 18px;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .photo-inner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        .photo-inner.has-photo img {
            display: block;
        }

        .photo-placeholder {
            text-align: center;
            color: #666;
            transition: all 0.3s ease;
        }

        .photo-card:hover .photo-placeholder {
            color: #999;
            transform: scale(1.1);
        }

        .photo-placeholder svg {
            width: 70px;
            height: 70px;
            margin-bottom: 15px;
            opacity: 0.4;
        }

        .upload-text {
            font-size: 1rem;
            font-weight: 500;
        }

        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 30px 20px 20px;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .photo-card:hover .photo-overlay {
            opacity: 1;
        }

        .photo-caption {
            font-family: 'Dancing Script', cursive;
            font-size: 1.4rem;
            color: white;
            text-align: center;
            margin-bottom: 8px;
        }

        .photo-date {
            text-align: center;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Music Player */
        .music-section {
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border-radius: 35px;
            padding: 50px;
            margin-bottom: 40px;
            border: 2px solid var(--card-border);
            box-shadow: 0 20px 80px var(--shadow);
        }

        .music-player {
            display: grid;
            gap: 20px;
        }

        .song-card {
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.15), rgba(240, 147, 251, 0.15));
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 25px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .song-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--tab-active);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .song-card:hover::before {
            opacity: 0.1;
        }

        .song-card:hover {
            transform: translateX(15px);
            border-color: #f5576c;
        }

        .song-card.playing {
            background: var(--tab-active);
            border-color: transparent;
        }

        .song-info {
            position: relative;
            z-index: 1;
        }

        .song-title {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--text-color);
            margin-bottom: 8px;
        }

        .song-artist {
            font-size: 1rem;
            color: var(--text-color);
            opacity: 0.7;
        }

        .song-card.playing .song-title,
        .song-card.playing .song-artist {
            color: white;
        }

        .play-btn {
            position: relative;
            z-index: 1;
            font-size: 2.5rem;
            transition: transform 0.3s ease;
        }

        .song-card:hover .play-btn {
            transform: scale(1.2);
        }

        .song-card.playing .play-btn {
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Love Calculator */
        .calculator-section {
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border-radius: 35px;
            padding: 50px;
            border: 2px solid var(--card-border);
            box-shadow: 0 20px 80px var(--shadow);
            text-align: center;
        }

        .calculator-form {
            max-width: 600px;
            margin: 0 auto 40px;
        }

        .input-group {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .love-input {
            padding: 20px 30px;
            border-radius: 20px;
            border: 2px solid var(--card-border);
            background: var(--card-bg);
            color: var(--text-color);
            font-size: 1.2rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .love-input:focus {
            outline: none;
            border-color: #f5576c;
            box-shadow: 0 0 30px rgba(245, 87, 108, 0.3);
        }

        .love-input::placeholder {
            color: var(--text-color);
            opacity: 0.5;
        }

        .calculate-btn {
            background: var(--tab-active);
            color: white;
            border: none;
            padding: 20px 50px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4);
        }

        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(245, 87, 108, 0.6);
        }

        .result-container {
            display: none;
            margin-top: 40px;
            animation: scaleIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .result-container.show {
            display: block;
        }

        .love-percentage {
            font-size: 7rem;
            font-weight: 900;
            font-family: 'Playfair Display', serif;
            background: var(--tab-active);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            animation: numberPop 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes numberPop {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .love-message {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: var(--text-color);
            margin-bottom: 15px;
        }

        .love-description {
            font-size: 1.1rem;
            color: var(--text-color);
            opacity: 0.8;
            max-width: 500px;
            margin: 0 auto;
            line-height: 1.8;
        }

        /* Memory Wall */
        .memory-wall {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
        }

        .memory-card {
            background: linear-gradient(135deg, var(--card-bg), rgba(240, 147, 251, 0.1));
            backdrop-filter: blur(20px);
            border: 1px solid var(--card-border);
            border-radius: 25px;
            padding: 35px;
            transition: all 0.4s ease;
            cursor: pointer;
        }

        .memory-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px var(--shadow);
            border-color: #f5576c;
        }

        .memory-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
        }

        .memory-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--text-color);
            margin-bottom: 15px;
        }

        .memory-text {
            color: var(--text-color);
            opacity: 0.85;
            line-height: 1.7;
            font-size: 1.05rem;
        }

        .memory-date {
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--text-color);
            opacity: 0.6;
            font-style: italic;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 40px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--tab-active);
            transform: translateX(-50%);
        }

        .timeline-item {
            display: flex;
            margin-bottom: 60px;
            position: relative;
            align-items: center;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            width: 45%;
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--card-border);
            border-radius: 25px;
            padding: 35px;
            transition: all 0.4s ease;
        }

        .timeline-content:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 50px var(--shadow);
        }

        .timeline-date {
            font-weight: 700;
            color: #f5576c;
            font-size: 1.1rem;
            margin-bottom: 12px;
        }

        .timeline-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            color: var(--text-color);
            margin-bottom: 12px;
        }

        .timeline-description {
            color: var(--text-color);
            opacity: 0.85;
            line-height: 1.6;
        }

        .timeline-dot {
            position: absolute;
            left: 50%;
            width: 25px;
            height: 25px;
            background: var(--tab-active);
            border-radius: 50%;
            border: 4px solid var(--card-bg);
            transform: translateX(-50%);
            z-index: 5;
            box-shadow: 0 0 0 4px var(--card-border);
        }

        /* Games Section */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .game-container {
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border-radius: 25px;
            padding: 40px;
            border: 2px solid var(--card-border);
            box-shadow: 0 15px 50px var(--shadow);
        }

        .game-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--text-color);
            text-align: center;
            margin-bottom: 25px;
        }

        .memory-game-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .game-card {
            aspect-ratio: 1;
            background: var(--tab-active);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .game-card::before {
            content: '‚ù§Ô∏è';
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 18px;
            transition: all 0.4s ease;
        }

        .game-card.flipped::before {
            transform: rotateY(180deg);
            opacity: 0;
        }

        .game-card.matched {
            opacity: 0.4;
            cursor: default;
        }

        .game-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--card-border);
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-color);
            opacity: 0.7;
            margin-top: 5px;
        }

        /* Quiz Game */
        .quiz-question {
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(240, 147, 251, 0.1));
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.3rem;
            color: var(--text-color);
            margin-bottom: 20px;
            font-weight: 500;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
        }

        .quiz-option {
            padding: 18px 25px;
            background: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-color);
            font-size: 1.05rem;
        }

        .quiz-option:hover {
            background: var(--tab-active);
            border-color: transparent;
            color: white;
            transform: translateX(10px);
        }

        .quiz-option.correct {
            background: linear-gradient(135deg, #4caf50, #45a049);
            border-color: transparent;
            color: white;
        }

        .quiz-option.wrong {
            background: linear-gradient(135deg, #f44336, #e53935);
            border-color: transparent;
            color: white;
        }

        /* Wish Wall */
        .wish-form {
            margin-bottom: 40px;
        }

        .wish-input {
            width: 100%;
            padding: 20px 25px;
            border-radius: 20px;
            border: 2px solid var(--card-border);
            background: var(--card-bg);
            color: var(--text-color);
            font-size: 1.1rem;
            margin-bottom: 15px;
            resize: vertical;
            min-height: 120px;
        }

        .wish-input:focus {
            outline: none;
            border-color: #f5576c;
            box-shadow: 0 0 30px rgba(245, 87, 108, 0.3);
        }

        .wish-list {
            display: grid;
            gap: 20px;
        }

        .wish-item {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 25px 30px;
            transition: all 0.3s ease;
        }

        .wish-item:hover {
            transform: translateX(10px);
            border-color: #f5576c;
        }

        .wish-text {
            color: var(--text-color);
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 10px;
        }

        .wish-time {
            font-size: 0.85rem;
            color: var(--text-color);
            opacity: 0.6;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border: 2px solid var(--card-border);
            border-radius: 35px;
            padding: 50px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 30px 90px rgba(0, 0, 0, 0.6);
            animation: scaleIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.dark-mode .modal-content {
            background: linear-gradient(135deg, rgba(15, 12, 41, 0.95), rgba(36, 36, 62, 0.95));
        }

        .close-btn {
            position: absolute;
            top: 25px;
            right: 30px;
            font-size: 2.5rem;
            cursor: pointer;
            color: var(--text-color);
            transition: all 0.3s ease;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: var(--card-bg);
        }

        .close-btn:hover {
            transform: rotate(90deg) scale(1.1);
            background: var(--tab-active);
            color: white;
        }

        /* Slideshow */
        .slideshow-container {
            position: relative;
            width: 100%;
            height: 75vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slideshow-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .slideshow-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            color: white;
            border: none;
            padding: 20px 25px;
            font-size: 2rem;
            cursor: pointer;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .slideshow-nav:hover {
            background: var(--tab-active);
            transform: translateY(-50%) scale(1.1);
        }

        .slideshow-prev { left: 30px; }
        .slideshow-next { right: 30px; }

        /* Notification */
        .notification {
            position: fixed;
            top: 100px;
            right: 30px;
            background: var(--tab-active);
            color: white;
            padding: 20px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(245, 87, 108, 0.5);
            z-index: 1001;
            animation: slideInRight 0.5s ease-out;
            display: none;
        }

        .notification.show {
            display: block;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Confetti */
        .confetti-piece {
            position: fixed;
            width: 12px;
            height: 12px;
            animation: confettiFall 4s linear forwards;
            z-index: 999;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Click Heart Effect */
        .click-heart {
            position: fixed;
            font-size: 35px;
            pointer-events: none;
            animation: heartBurst 1.2s ease-out forwards;
            z-index: 999;
        }

        @keyframes heartBurst {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.5) rotate(180deg);
            }
            100% {
                transform: scale(2) rotate(360deg) translateY(-120px);
                opacity: 0;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-header h1 {
                font-size: 3.5rem;
            }
            
            .top-bar {
                padding: 12px 15px;
            }
            
            .logo {
                font-size: 1.5rem;
            }
            
            .control-btn {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }
            
            .tab-navigation {
                flex-wrap: nowrap;
                overflow-x: auto;
            }
            
            .tab-btn {
                min-width: 120px;
                padding: 15px 20px;
                font-size: 0.9rem;
            }
            
            .countdown-hero,
            .photo-gallery-section,
            .music-section,
            .calculator-section,
            .game-container {
                padding: 30px 20px;
            }
            
            .countdown-display {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .time-number {
                font-size: 3rem;
            }
            
            .timeline::before {
                left: 20px;
            }
            
            .timeline-item {
                flex-direction: column !important;
                padding-left: 50px;
            }
            
            .timeline-content {
                width: 100%;
            }
            
            .timeline-dot {
                left: 20px;
            }
            
            .memory-game-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .modal-content {
                padding: 30px 20px;
            }
            
            .slideshow-nav {
                padding: 15px 18px;
                font-size: 1.5rem;
            }
            
            .slideshow-prev { left: 10px; }
            .slideshow-next { right: 10px; }
        }
    </style>
</head>
<body>
    <!-- Particles -->
    <div class="particles" id="particles"></div>

    <!-- Top Bar -->
    <div class="top-bar">
        <div class="logo">
            <span>üíù</span>
            <span>Our Love Story</span>
        </div>
        <div class="top-controls">
            <div class="heart-counter">
                <span>‚ù§Ô∏è</span>
                <span id="heartCount">0</span>
            </div>
            <div class="control-btn" onclick="toggleDarkMode()" title="Toggle Mode">
                <span id="modeIcon">üåô</span>
            </div>
            <div class="control-btn" onclick="createFireworks()" title="Fireworks">
                <span>üéÜ</span>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <div class="main-header">
            <h1>Happy Valentine's Day</h1>
            <p class="subtitle">Untuk Orang Tersayang üíï</p>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-btn active" onclick="switchTab(0)">
                <span class="tab-icon">‚è∞</span>
                <span>Waktu Kita</span>
            </button>
            <button class="tab-btn" onclick="switchTab(1)">
                <span class="tab-icon">üì∏</span>
                <span>Galeri Foto</span>
            </button>
            <button class="tab-btn" onclick="switchTab(2)">
                <span class="tab-icon">üéµ</span>
                <span>Musik</span>
            </button>
            <button class="tab-btn" onclick="switchTab(3)">
                <span class="tab-icon">üíï</span>
                <span>Kalkulator</span>
            </button>
            <button class="tab-btn" onclick="switchTab(4)">
                <span class="tab-icon">üí≠</span>
                <span>Kenangan</span>
            </button>
            <button class="tab-btn" onclick="switchTab(5)">
                <span class="tab-icon">üìÖ</span>
                <span>Timeline</span>
            </button>
            <button class="tab-btn" onclick="switchTab(6)">
                <span class="tab-icon">üéÆ</span>
                <span>Games</span>
            </button>
            <button class="tab-btn" onclick="switchTab(7)">
                <span class="tab-icon">üåü</span>
                <span>Harapan</span>
            </button>
        </div>

        <!-- Tab 1: Countdown -->
        <div class="tab-content active" id="tab0">
            <div class="countdown-hero">
                <h2 class="countdown-title">Waktu Bersama Kita</h2>
                <p class="countdown-subtitle">Sejak hari pertama kita bersama üíñ</p>
                <div class="countdown-display">
                    <div class="time-box">
                        <span class="time-number" id="days">0</span>
                        <span class="time-label">Hari</span>
                    </div>
                    <div class="time-box">
                        <span class="time-number" id="hours">0</span>
                        <span class="time-label">Jam</span>
                    </div>
                    <div class="time-box">
                        <span class="time-number" id="minutes">0</span>
                        <span class="time-label">Menit</span>
                    </div>
                    <div class="time-box">
                        <span class="time-number" id="seconds">0</span>
                        <span class="time-label">Detik</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Photo Gallery -->
        <div class="tab-content" id="tab1">
            <div class="photo-gallery-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span>‚ú®</span>
                        Kenangan Indah Kita
                    </h2>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="startSlideshow()">
                            <span>‚ñ∂Ô∏è</span>
                            <span>Slideshow</span>
                        </button>
                        <button class="action-btn" onclick="downloadPhotos()">
                            <span>üì•</span>
                            <span>Download</span>
                        </button>
                    </div>
                </div>
                <div class="photo-grid" id="photoGrid"></div>
            </div>
        </div>

        <!-- Tab 3: Music Player -->
        <div class="tab-content" id="tab2">
            <div class="music-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span>üéµ</span>
                        Lagu Kenangan Kita
                    </h2>
                </div>
                <div class="music-player" id="musicPlayer"></div>
            </div>
        </div>

        <!-- Tab 4: Love Calculator -->
        <div class="tab-content" id="tab3">
            <div class="calculator-section">
                <h2 class="section-title" style="justify-content: center; margin-bottom: 40px;">
                    <span>üíï</span>
                    Kalkulator Cinta
                </h2>
                <div class="calculator-form">
                    <div class="input-group">
                        <input type="text" class="love-input" id="name1" placeholder="Nama Kamu" maxlength="25">
                        <input type="text" class="love-input" id="name2" placeholder="Nama Pasangan" maxlength="25">
                    </div>
                    <button class="calculate-btn" onclick="calculateLove()">
                        Hitung Cinta Kita! üíñ
                    </button>
                </div>
                <div class="result-container" id="resultContainer">
                    <div class="love-percentage" id="lovePercentage">0%</div>
                    <div class="love-message" id="loveMessage"></div>
                    <p class="love-description" id="loveDescription"></p>
                </div>
            </div>
        </div>

        <!-- Tab 5: Memory Wall -->
        <div class="tab-content" id="tab4">
            <div class="photo-gallery-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span>üí≠</span>
                        Momen Spesial Kita
                    </h2>
                </div>
                <div class="memory-wall" id="memoryWall"></div>
            </div>
        </div>

        <!-- Tab 6: Timeline -->
        <div class="tab-content" id="tab5">
            <div class="photo-gallery-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span>üìÖ</span>
                        Timeline Cinta Kita
                    </h2>
                </div>
                <div class="timeline" id="timeline"></div>
            </div>
        </div>

        <!-- Tab 7: Games -->
        <div class="tab-content" id="tab6">
            <div class="games-grid">
                <!-- Memory Game -->
                <div class="game-container">
                    <h3 class="game-title">üéÆ Pasangkan Hati</h3>
                    <div class="memory-game-grid" id="memoryGame"></div>
                    <div class="game-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="moveCount">0</div>
                            <div class="stat-label">Moves</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="matchCount">0</div>
                            <div class="stat-label">Matched</div>
                        </div>
                    </div>
                </div>

                <!-- Love Quiz -->
                <div class="game-container">
                    <h3 class="game-title">üíù Kuis Cinta</h3>
                    <div id="quizContainer"></div>
                </div>
            </div>
        </div>

        <!-- Tab 8: Wishes -->
        <div class="tab-content" id="tab7">
            <div class="photo-gallery-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span>üåü</span>
                        Harapan & Impian Kita
                    </h2>
                </div>
                <div class="wish-form">
                    <textarea 
                        class="wish-input" 
                        id="wishInput" 
                        placeholder="Tuliskan harapan atau impian kita bersama..."></textarea>
                    <button class="action-btn" onclick="addWish()" style="width: 100%; justify-content: center;">
                        <span>‚ú®</span>
                        <span>Tambah Harapan</span>
                    </button>
                </div>
                <div class="wish-list" id="wishList"></div>
            </div>
        </div>
    </div>

    <!-- Slideshow Modal -->
    <div class="modal" id="slideshowModal">
        <div class="modal-content" style="max-width: 95vw;">
            <span class="close-btn" onclick="closeModal('slideshowModal')">&times;</span>
            <div class="slideshow-container">
                <button class="slideshow-nav slideshow-prev" onclick="changeSlide(-1)">‚Äπ</button>
                <img id="slideshowImage" class="slideshow-image" src="" alt="Slideshow">
                <button class="slideshow-nav slideshow-next" onclick="changeSlide(1)">‚Ä∫</button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Global Variables
        let heartCount = 0;
        let currentTab = 0;
        let uploadedPhotos = [];
        let currentSlideIndex = 0;
        let currentSong = null;
        let gameCards = [];
        let flippedCards = [];
        let moveCount = 0;
        let matchCount = 0;
        let canFlip = true;
        let wishes = [];
        let quizScore = 0;
        let currentQuestion = 0;

        // Photo data with captions
        const photoSlots = [
            { caption: 'Momen Pertama', date: 'Hari yang Spesial' },
            { caption: 'Senyum Termanis', date: 'Kebahagiaan Kita' },
            { caption: 'Petualangan Bersama', date: 'Kenangan Indah' },
            { caption: 'Cinta Sejati', date: 'Selamanya' },
            { caption: 'Kebersamaan', date: 'Tak Terlupakan' },
            { caption: 'Impian Kita', date: 'Masa Depan' },
            { caption: 'Tawa Bahagia', date: 'Momen Berharga' },
            { caption: 'Romantis', date: 'Penuh Cinta' },
            { caption: 'Journey', date: 'Perjalanan Kita' }
        ];

        // Music playlist
        const playlist = [
            { title: 'Perfect', artist: 'Ed Sheeran', icon: 'üé∏' },
            { title: 'A Thousand Years', artist: 'Christina Perri', icon: 'üéπ' },
            { title: 'All of Me', artist: 'John Legend', icon: 'üé§' },
            { title: 'Thinking Out Loud', artist: 'Ed Sheeran', icon: 'üé∏' },
            { title: 'Make You Feel My Love', artist: 'Adele', icon: 'üéµ' },
            { title: 'Endless Love', artist: 'Lionel Richie', icon: 'üíï' }
        ];

        // Memory data
        const memories = [
            {
                icon: 'üåÖ',
                title: 'Hari Pertama',
                text: 'Saat pertama kali mata kita bertemu, dunia seakan berhenti berputar. Aku tahu ada yang spesial.',
                date: 'Hari yang Tak Terlupakan'
            },
            {
                icon: 'üíë',
                title: 'Kencan Pertama',
                text: 'Gugup tapi bahagia. Setiap detiknya adalah awal dari cerita indah kita.',
                date: 'Momen Berharga'
            },
            {
                icon: 'üåü',
                title: 'Komitmen',
                text: 'Hari dimana kita memutuskan untuk menjalani hidup bersama, saling mendukung dalam suka dan duka.',
                date: 'Janji Kita'
            },
            {
                icon: 'üéÇ',
                title: 'Perayaan Bersama',
                text: 'Setiap perayaan menjadi lebih bermakna karena kita melewatinya bersama.',
                date: 'Kebahagiaan'
            },
            {
                icon: '‚úàÔ∏è',
                title: 'Petualangan',
                text: 'Menjelajahi dunia bersama, menciptakan kenangan di setiap tempat yang kita kunjungi.',
                date: 'Perjalanan Indah'
            },
            {
                icon: 'üíù',
                title: 'Kasih Sayang',
                text: 'Dalam setiap tawa, tangis, dan perjuangan, cinta kita terus tumbuh dan menguat.',
                date: 'Cinta Sejati'
            }
        ];

        // Timeline data
        const timelineEvents = [
            {
                date: 'Hari Pertama',
                title: 'Awal Segalanya',
                description: 'Saat pertama kali kita bertemu, aku tidak tahu bahwa kamu akan menjadi bagian terpenting dalam hidupku. Setiap detik sejak itu adalah berkah.'
            },
            {
                date: 'Bulan Pertama',
                title: 'Jatuh Cinta',
                description: 'Aku mulai menyadari bahwa perasaanku padamu bukan sekadar suka. Ini adalah cinta yang tulus dan mendalam.'
            },
            {
                date: '3 Bulan',
                title: 'Mengenal Lebih Dalam',
                description: 'Setiap hari aku menemukan hal baru tentangmu yang membuatku semakin jatuh cinta. Kamu sempurna dengan segala kekurangan dan kelebihanmu.'
            },
            {
                date: '6 Bulan',
                title: 'Komitmen Bersama',
                description: 'Kita memutuskan untuk menjalani hidup bersama, saling mendukung dan menjadi yang terbaik satu sama lain.'
            },
            {
                date: 'Hari Ini',
                title: 'Cinta yang Terus Tumbuh',
                description: 'Setiap hari cintaku padamu bertambah. Aku bersyukur memilikimu dan excited untuk masa depan kita bersama.'
            },
            {
                date: 'Selamanya',
                title: 'Impian Kita',
                description: 'Bersamamu selamanya adalah impian terindahku. Mari kita ciptakan lebih banyak kenangan indah bersama.'
            }
        ];

        // Quiz questions
        const quizQuestions = [
            {
                question: 'Apa yang paling aku sukai darimu?',
                options: ['Senyummu yang manis', 'Kepribadianmu yang hangat', 'Semuanya tentangmu', 'Cara kamu peduli padaku'],
                correct: 2
            },
            {
                question: 'Tempat favorit kita berdua?',
                options: ['Di mana pun asal bersamamu', 'Kafe favorit kita', 'Taman tempat kita sering jalan', 'Rumah, karena di sana ada kita'],
                correct: 0
            },
            {
                question: 'Yang aku inginkan untuk masa depan kita?',
                options: ['Selalu bahagia bersama', 'Rumah dan keluarga yang hangat', 'Petualangan tanpa akhir', 'Semua hal di atas'],
                correct: 3
            }
        ];

        // Initialize
        function init() {
            createParticles();
            startCountdown();
            initPhotoGallery();
            initMusicPlayer();
            initMemoryWall();
            initTimeline();
            initMemoryGame();
            initQuiz();
            loadWishes();
        }

        // Create floating particles
        function createParticles() {
            const container = document.getElementById('particles');
            const emojis = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù', '‚≠ê', '‚ú®'];
            
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 5 + 's';
                particle.style.animationDuration = (12 + Math.random() * 8) + 's';
                container.appendChild(particle);
            }
        }

        // Update particles on mode change
        function updateParticles() {
            const particles = document.querySelectorAll('.particle');
            const emojis = document.body.classList.contains('dark-mode') 
                ? ['‚≠ê', '‚ú®', 'üí´', 'üåô', 'üåü']
                : ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù'];
            
            particles.forEach(particle => {
                particle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            });
        }

        // Dark mode toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const icon = document.getElementById('modeIcon');
            icon.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
            updateParticles();
            createConfetti();
        }

        // Tab switching
        function switchTab(index) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');
            
            tabs.forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });
            
            buttons.forEach((btn, i) => {
                btn.classList.toggle('active', i === index);
            });
            
            currentTab = index;
        }

        // Countdown timer (253 days ago from now)
        function startCountdown() {
            const now = new Date();
            const startDate = new Date(now.getTime() - (253 * 24 * 60 * 60 * 1000));
            
            setInterval(() => {
                const current = new Date();
                const diff = current - startDate;
                
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours;
                document.getElementById('minutes').textContent = minutes;
                document.getElementById('seconds').textContent = seconds;
            }, 1000);
        }

        // Initialize photo gallery
        function initPhotoGallery() {
            const grid = document.getElementById('photoGrid');
            
            photoSlots.forEach((slot, index) => {
                const card = document.createElement('div');
                card.className = 'photo-card';
                card.onclick = () => document.getElementById(`photo${index}`).click();
                
                card.innerHTML = `
                    <div class="photo-inner" id="frame${index}">
                        <div class="photo-placeholder">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            <p class="upload-text">Klik untuk upload</p>
                        </div>
                        <img id="img${index}" alt="${slot.caption}">
                        <div class="photo-overlay">
                            <div class="photo-caption">${slot.caption}</div>
                            <div class="photo-date">${slot.date}</div>
                        </div>
                    </div>
                    <input type="file" id="photo${index}" style="display: none;" accept="image/*" onchange="loadPhoto(${index}, this)">
                `;
                
                grid.appendChild(card);
            });
        }

        // Load photo
        function loadPhoto(index, input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.getElementById(`img${index}`);
                    const frame = document.getElementById(`frame${index}`);
                    img.src = e.target.result;
                    frame.classList.add('has-photo');
                    uploadedPhotos[index] = e.target.result;
                    createConfetti();
                    showNotification('Foto berhasil ditambahkan! üì∏');
                };
                reader.readAsDataURL(file);
            }
        }

        // Slideshow
        function startSlideshow() {
            const photos = uploadedPhotos.filter(photo => photo);
            if (photos.length === 0) {
                showNotification('Upload foto dulu ya! üì∏');
                return;
            }
            
            currentSlideIndex = 0;
            document.getElementById('slideshowImage').src = photos[currentSlideIndex];
            document.getElementById('slideshowModal').classList.add('active');
        }

        function changeSlide(direction) {
            const photos = uploadedPhotos.filter(photo => photo);
            currentSlideIndex += direction;
            
            if (currentSlideIndex < 0) currentSlideIndex = photos.length - 1;
            if (currentSlideIndex >= photos.length) currentSlideIndex = 0;
            
            document.getElementById('slideshowImage').src = photos[currentSlideIndex];
        }

        // Download photos
        function downloadPhotos() {
            const photos = uploadedPhotos.filter(photo => photo);
            if (photos.length === 0) {
                showNotification('Belum ada foto untuk didownload! üì∏');
                return;
            }
            
            photos.forEach((photo, index) => {
                const link = document.createElement('a');
                link.href = photo;
                link.download = `kenangan-${index + 1}.jpg`;
                link.click();
            });
            
            createConfetti();
            showNotification(`${photos.length} foto berhasil didownload! üíù`);
        }

        // Initialize music player
        function initMusicPlayer() {
            const player = document.getElementById('musicPlayer');
            
            playlist.forEach((song, index) => {
                const card = document.createElement('div');
                card.className = 'song-card';
                card.id = `song${index}`;
                card.onclick = () => playSong(index);
                
                card.innerHTML = `
                    <div class="song-info">
                        <div class="song-title">${song.icon} ${song.title}</div>
                        <div class="song-artist">${song.artist}</div>
                    </div>
                    <div class="play-btn">‚ñ∂Ô∏è</div>
                `;
                
                player.appendChild(card);
            });
        }

        function playSong(index) {
            const cards = document.querySelectorAll('.song-card');
            cards.forEach((card, i) => {
                card.classList.toggle('playing', i === index);
                const btn = card.querySelector('.play-btn');
                btn.textContent = (i === index && currentSong === index) ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è';
            });
            
            if (currentSong === index) {
                currentSong = null;
                showNotification('Musik dijeda ‚è∏Ô∏è');
            } else {
                currentSong = index;
                showNotification(`üéµ Memutar: ${playlist[index].title}`);
            }
        }

        // Love calculator
        function calculateLove() {
            const name1 = document.getElementById('name1').value.trim();
            const name2 = document.getElementById('name2').value.trim();
            
            if (!name1 || !name2) {
                showNotification('Isi kedua nama dulu ya! üíï');
                return;
            }
            
            const combined = name1.toLowerCase() + name2.toLowerCase();
            let hash = 0;
            for (let i = 0; i < combined.length; i++) {
                hash = combined.charCodeAt(i) + ((hash << 5) - hash);
            }
            const percentage = (Math.abs(hash) % 26) + 75;
            
            let message = '';
            let description = '';
            
            if (percentage >= 95) {
                message = 'Pasangan Sempurna! üíù';
                description = 'Kalian ditakdirkan bersama! Cinta kalian adalah bukti bahwa jodoh itu nyata. Jaga dan rawat cinta ini selamanya.';
            } else if (percentage >= 85) {
                message = 'Cinta Sejati! üíï';
                description = 'Kalian dibuat satu sama lain! Chemistry yang luar biasa dan pemahaman yang mendalam membuat hubungan kalian istimewa.';
            } else if (percentage >= 80) {
                message = 'Hubungan yang Kuat! ‚ù§Ô∏è';
                description = 'Cinta yang indah dan penuh komitmen. Kalian saling melengkapi dan terus tumbuh bersama.';
            } else {
                message = 'Cinta yang Indah! üíñ';
                description = 'Hubungan yang terus berkembang dengan indah. Setiap hari kalian semakin dekat dan semakin memahami satu sama lain.';
            }
            
            document.getElementById('lovePercentage').textContent = percentage + '%';
            document.getElementById('loveMessage').textContent = message;
            document.getElementById('loveDescription').textContent = description;
            document.getElementById('resultContainer').classList.add('show');
            
            createFireworks();
        }

        // Initialize memory wall
        function initMemoryWall() {
            const wall = document.getElementById('memoryWall');
            
            memories.forEach(memory => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.innerHTML = `
                    <span class="memory-icon">${memory.icon}</span>
                    <h3 class="memory-title">${memory.title}</h3>
                    <p class="memory-text">${memory.text}</p>
                    <p class="memory-date">${memory.date}</p>
                `;
                wall.appendChild(card);
            });
        }

        // Initialize timeline
        function initTimeline() {
            const timeline = document.getElementById('timeline');
            
            timelineEvents.forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';
                item.innerHTML = `
                    <div class="timeline-content">
                        <div class="timeline-date">${event.date}</div>
                        <h3 class="timeline-title">${event.title}</h3>
                        <p class="timeline-description">${event.description}</p>
                    </div>
                    <div class="timeline-dot"></div>
                `;
                timeline.appendChild(item);
            });
        }

        // Memory game
        const gameEmojis = ['üíï', 'üíñ', 'üíó', 'üíù', 'üíì', 'üíû', 'üíò', '‚ù§Ô∏è'];
        
        function initMemoryGame() {
            const grid = document.getElementById('memoryGame');
            gameCards = [...gameEmojis, ...gameEmojis];
            gameCards.sort(() => Math.random() - 0.5);
            
            grid.innerHTML = '';
            gameCards.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.className = 'game-card';
                card.dataset.emoji = emoji;
                card.dataset.index = index;
                card.textContent = emoji;
                card.onclick = function() { flipCard(this); };
                grid.appendChild(card);
            });
        }

        function flipCard(card) {
            if (!canFlip || card.classList.contains('flipped') || card.classList.contains('matched')) {
                return;
            }
            
            card.classList.add('flipped');
            flippedCards.push(card);
            
            if (flippedCards.length === 2) {
                moveCount++;
                document.getElementById('moveCount').textContent = moveCount;
                canFlip = false;
                setTimeout(checkMatch, 800);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.dataset.emoji === card2.dataset.emoji) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                matchCount++;
                document.getElementById('matchCount').textContent = matchCount;
                
                if (matchCount === 8) {
                    setTimeout(() => {
                        createFireworks();
                        showNotification('üéâ Selamat! Kamu menang! üéâ');
                        setTimeout(() => {
                            initMemoryGame();
                            moveCount = 0;
                            matchCount = 0;
                            document.getElementById('moveCount').textContent = '0';
                            document.getElementById('matchCount').textContent = '0';
                        }, 2000);
                    }, 500);
                }
            } else {
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                }, 500);
            }
            
            flippedCards = [];
            canFlip = true;
        }

        // Quiz game
        function initQuiz() {
            currentQuestion = 0;
            quizScore = 0;
            displayQuestion();
        }

        function displayQuestion() {
            const container = document.getElementById('quizContainer');
            
            if (currentQuestion >= quizQuestions.length) {
                container.innerHTML = `
                    <div class="quiz-question">
                        <h3 style="color: var(--text-color); font-size: 2rem; margin-bottom: 20px;">
                            Skor Kamu: ${quizScore}/${quizQuestions.length}
                        </h3>
                        <p style="color: var(--text-color); font-size: 1.3rem; margin-bottom: 25px;">
                            ${quizScore === quizQuestions.length ? 'Sempurna! Kamu benar-benar mengerti! üíù' : 'Bagus! Kita terus belajar tentang satu sama lain! üíï'}
                        </p>
                        <button class="action-btn" onclick="initQuiz()" style="margin: 0 auto;">
                            Main Lagi
                        </button>
                    </div>
                `;
                if (quizScore === quizQuestions.length) createFireworks();
                return;
            }
            
            const q = quizQuestions[currentQuestion];
            const options = q.options.map((option, index) => 
                `<div class="quiz-option" onclick="answerQuestion(${index})">${option}</div>`
            ).join('');
            
            container.innerHTML = `
                <div class="quiz-question">
                    <p class="question-text">${currentQuestion + 1}. ${q.question}</p>
                    <div class="quiz-options">${options}</div>
                </div>
            `;
        }

        function answerQuestion(selected) {
            const q = quizQuestions[currentQuestion];
            const options = document.querySelectorAll('.quiz-option');
            
            if (selected === q.correct) {
                options[selected].classList.add('correct');
                quizScore++;
                createConfetti();
            } else {
                options[selected].classList.add('wrong');
                options[q.correct].classList.add('correct');
            }
            
            setTimeout(() => {
                currentQuestion++;
                displayQuestion();
            }, 1500);
        }

        // Wishes
        function loadWishes() {
            const saved = localStorage.getItem('loveWishes');
            if (saved) {
                wishes = JSON.parse(saved);
                displayWishes();
            }
        }

        function addWish() {
            const input = document.getElementById('wishInput');
            const text = input.value.trim();
            
            if (!text) {
                showNotification('Tuliskan harapanmu dulu! üåü');
                return;
            }
            
            const wish = {
                text: text,
                time: new Date().toLocaleString('id-ID')
            };
            
            wishes.unshift(wish);
            localStorage.setItem('loveWishes', JSON.stringify(wishes));
            input.value = '';
            displayWishes();
            createConfetti();
            showNotification('Harapan berhasil ditambahkan! ‚ú®');
        }

        function displayWishes() {
            const list = document.getElementById('wishList');
            
            if (wishes.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: var(--text-color); opacity: 0.7; padding: 40px;">Belum ada harapan. Yuk tulis harapan pertama! ‚ú®</p>';
                return;
            }
            
            list.innerHTML = wishes.map(wish => `
                <div class="wish-item">
                    <p class="wish-text">${wish.text}</p>
                    <p class="wish-time">üïê ${wish.time}</p>
                </div>
            `).join('');
        }

        // Click effect
        document.addEventListener('click', function(e) {
            if (e.target.closest('.modal, .control-btn, .tab-btn, .action-btn, button, input, textarea')) {
                return;
            }
            
            heartCount++;
            document.getElementById('heartCount').textContent = heartCount;
            
            const heart = document.createElement('div');
            heart.className = 'click-heart';
            heart.textContent = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù'][Math.floor(Math.random() * 5)];
            heart.style.left = e.pageX + 'px';
            heart.style.top = e.pageY + 'px';
            document.body.appendChild(heart);
            
            setTimeout(() => heart.remove(), 1200);
        });

        // Confetti
        function createConfetti() {
            const colors = ['#ff69b4', '#ff1493', '#ff6b9d', '#ffc0cb', '#ffb6c1', '#f5576c', '#f093fb'];
            
            for (let i = 0; i < 60; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti-piece';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-20px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (3 + Math.random() * 2) + 's';
                    confetti.style.animationDelay = Math.random() * 0.3 + 's';
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 4500);
                }, i * 20);
            }
        }

        // Fireworks
        function createFireworks() {
            const colors = ['#ff69b4', '#ff1493', '#ffd700', '#ff6347', '#f093fb', '#667eea'];
            
            for (let i = 0; i < 6; i++) {
                setTimeout(() => {
                    const x = 20 + Math.random() * 60;
                    const y = 20 + Math.random() * 40;
                    
                    for (let j = 0; j < 25; j++) {
                        const particle = document.createElement('div');
                        particle.className = 'confetti-piece';
                        particle.style.left = x + '%';
                        particle.style.top = y + '%';
                        particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        particle.style.width = '8px';
                        particle.style.height = '8px';
                        
                        const angle = (j / 25) * Math.PI * 2;
                        const velocity = 100 + Math.random() * 100;
                        particle.style.animation = `confettiFall 2s ease-out forwards`;
                        particle.style.transform = `translate(${Math.cos(angle) * velocity}px, ${Math.sin(angle) * velocity}px)`;
                        
                        document.body.appendChild(particle);
                        setTimeout(() => particle.remove(), 2000);
                    }
                }, i * 400);
            }
        }

        // Modal functions
        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        // Notification
        function showNotification(message) {
            const notif = document.getElementById('notification');
            notif.textContent = message;
            notif.classList.add('show');
            
            setTimeout(() => {
                notif.classList.remove('show');
            }, 3000);
        }

        // Close modal on background click
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // Initialize on load
        window.onload = init;
    </script>
</body>
</html>